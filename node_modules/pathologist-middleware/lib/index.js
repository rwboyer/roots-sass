// Generated by CoffeeScript 1.9.1
(function() {
  var minimatch;

  minimatch = require('minimatch');

  module.exports = function(base, routes) {
    if (typeof base !== 'string') {
      routes = base;
      base = process.cwd();
    }
    return function(req, res, next) {
      var k, v;
      for (k in routes) {
        v = routes[k];
        if (!(minimatch(req.url, k))) {
          continue;
        }
        req.url = v;
        return next();
      }
      return next();
    };
  };

}).call(this);
